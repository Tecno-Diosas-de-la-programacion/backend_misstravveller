import"./navbarScrolled-4g2gRXiq.js";/* empty css               */import{d}from"./domainName-BqwKdE-m.js";const p=async t=>{const r=`${d()}/api/v1/login`,i={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},n=await fetch(r,i);if(n.status!==200)throw(await n.json()).message;const s=await n.json();return console.log(s),s};document.addEventListener("DOMContentLoaded",function(){const t=document.getElementById("registerForm"),r=(e,o)=>{const l=e.nextElementSibling;e.classList.add("is-invalid"),l.textContent=o},i=e=>{const o=e.nextElementSibling;e.classList.remove("is-invalid"),o.textContent=""},n=e=>{const o=e.value.trim(),l=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/;return o===""?(r(e,`El campo ${e.name} es requerido.`),!1):l.test(o)?(i(e),!0):(r(e,"Por favor ingresa un correo electrónico válido."),!1)},s=e=>e.value.trim()===""?(r(e,`El campo ${e.name} es requerido.`),!1):(i(e),!0);t.addEventListener("submit",async e=>{e.preventDefault();let o=!0;t.querySelectorAll("input").forEach(a=>{a.name==="correo"?n(a)||(o=!1):a.name==="password"&&(s(a)||(o=!1))});const c=document.querySelector("[name=email]"),u=document.querySelector("[name=password]"),m={email:c.value,password:u.value};if(o)try{await p(m),swal("¡Bienvenido!").then(function(){window.location.href="/index.html"})}catch{console.log(""),swal("Usuario no encontrado")}else swal("Por favor, corrige los errores en el formulario.")}),t.querySelectorAll("input").forEach(e=>{e.addEventListener("blur",()=>{e.name==="correo"?n(e):e.name==="password"&&s(e)})})});window.addEventListener("load",()=>{const t=document.getElementById("preloader"),r=document.getElementById("contenido");setTimeout(()=>{t.style.display="none",r.style.display="block"},3e3)});
