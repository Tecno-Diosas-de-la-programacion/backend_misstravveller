import"./navbarScrolled-4g2gRXiq.js";/* empty css               */import{d as L}from"./domainName-BqwKdE-m.js";const w=async l=>{const u=`${L()}/api/v1/users`,i={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)},n=await fetch(u,i);if(n.status!==201)throw(await n.json()).message;const o=await n.json();return console.log(o),o};document.addEventListener("DOMContentLoaded",function(){const l=document.querySelector("[name=name]"),u=document.querySelector("[name=fatherLastName]"),i=document.querySelector("[name=motherLastName]"),n=document.querySelector("[name=email]"),o=document.querySelector("[name=password]"),c=document.getElementById("registerForm"),a=(e,r)=>{const s=e.nextElementSibling;e.classList.add("is-invalid"),s.textContent=r},m=e=>{const r=e.nextElementSibling;e.classList.remove("is-invalid"),r.textContent=""},d=e=>e.value.trim()===""?(a(e,`El campo ${e.name} es requerido.`),!1):(m(e),!0),v=e=>{const r=e.value.trim(),s=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/;return r===""?(a(e,`El campo ${e.name} es requerido.`),!1):s.test(r)?(m(e),!0):(a(e,"Por favor ingresa un correo electrónico válido."),!1)},p=e=>{const r=e.value.trim(),s=8,t=/[A-Z]/,f=/[a-z]/,g=/[0-9]/,h=/[\W_]/;return r.length<s?(a(e,`La contraseña debe tener al menos ${s} caracteres.`),!1):t.test(r)?f.test(r)?g.test(r)?h.test(r)?(m(e),!0):(a(e,"La contraseña debe tener al menos un carácter especial."),!1):(a(e,"La contraseña debe tener al menos un número."),!1):(a(e,"La contraseña debe tener al menos una letra minúscula."),!1):(a(e,"La contraseña debe tener al menos una letra mayúscula."),!1)};c.addEventListener("submit",async e=>{e.preventDefault();let r=!0;if(c.querySelectorAll("input").forEach(t=>{t.name==="correo"?v(t)||(r=!1):t.name==="password"?p(t)||(r=!1):d(t)||(r=!1)}),r){const t={name:l.value,fatherLastName:u.value,motherLastName:i.value,email:n.value,password:o.value};try{await w(t),document.reset()}catch{console.log("Hubo un error al concectar con database"),swal("Hubo un error al concectar con database")}swal("Formulario enviado correctamente.").then(function(){window.location.href="../ingresar/ingresar.html"})}else swal("Por favor, corrige los errores en el formulario.")}),c.querySelectorAll("input").forEach(e=>{e.addEventListener("blur",()=>{e.name==="correo"?v(e):e.name==="password"?p(e):d(e)})})});
